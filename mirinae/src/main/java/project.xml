<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="projectns">
	<insert id="insert" parameterType="project"> <!-- 입력, 수정, 삭제는 resultType이 필요없다 -->
															   <!-- 세션연결 후에 작성자 이름 추가 -->
		insert into project values(#{p_no},#{cate_code},#{p_name},#{p_content},#{p_writer},
									#{s_date},#{e_date},#{goal_money},0,'n',sysdate,0)
	</insert>
	<select id="select" resultType="integer">
		select count(*)+1 from project
	</select>
	<select id="selectList" resultType="project">
		select * from project order by p_no desc
	</select>

<!-- 	<select id="getTotal" resultType="integer"> -->
<!-- 		select count(*) from project -->
<!-- 	</select> -->
<!-- 	<select id="list" resultType="project"> -->
<!--  		select * from (select rowNum rn,a.* from (select * from -->
<!-- 		project where p_del = 'n' order by p_no desc)a) where rn between #{startRow} and #{endRow}  -->
<!-- 	</select> -->
	<select id="proview" parameterType="integer" resultType="project">
		select * from project where p_no = #{p_no}
	</select>
	<update id="p_viewupdate" parameterType="integer">
		update project set p_view = p_view + 1 where p_no = #{p_no}
	</update>
</mapper>